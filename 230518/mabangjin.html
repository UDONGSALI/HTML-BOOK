<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>마방진</title>
    <script>
        var ma;
        var mabang;

        function creatMabangjin() {
            ma = Number(document.getElementById("inputData").value);
            mabang = new Array(ma);
            for (var i = 0; i < ma; i++) {
                mabang[i] = new Array(ma);
            }
            for (var i = 0; i < ma; i++) {
                for (var j = 0; j < ma; j++) {
                    mabang[i][j] = 0;
                }
            }
            mabangFill();

            mabangDisp();
        }

        function mabangFill() {
            var x = 0;
            var y = Math.floor(ma / 2);
            for (var i = 1; i <= ma * ma; i++) {
                mabang[x][y] = i;
                x--;
                y++;
                if (x < 0 && y == ma) {
                    x += 2;
                    y--;
                } else if (x < 0) {
                    x = ma - 1;
                } else if (y == ma) {
                    y = 0;
                } else if (mabang[x][y] != 0) {
                    x += 2;
                    y--;
                }
            }

        }


        function mabangDisp() {
            var html = "";
            html += "<table border=1 width = 80%>";

            for (var i = 0; i < ma; i++) {
                html += "<tr>";
                for (var j = 0; j < ma; j++) {
                    html += "<td>";
                    html += mabang[i][j];
                    html += "</td>";
                }
                html += "</tr>";
            }
            html += "</table>";
            document.getElementById("box").innerHTML = html;
        }
        
        
        

    </script>
    <style>
        #wrap {
            width: 600px;
            height: 500px;
            border: 1px solid #999;
            margin: 0 auto;
            padding-left: 50px;

        }
        #cicle{
            width: 20px;
            height: 20px;
            background: red;
            border-radius: 10px;
            position: relative;
        }

    </style>
</head>

<body>
    <div id="wrap">
        <div id="input">
            <p>몇 마방진을 만들까요?</p>
            <input type="text" id="inputData">
            <button onclick="creatMabangjin();">만들기</button>
            <div id="box">

            </div>
            <div id="cicle">

            </div>

        </div>
    </div>

</body>

</html>
